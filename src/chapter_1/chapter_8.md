# Структуры

В Go **структуры** (structs) предоставляют мощный способ группировать связанные данные в одном объекте, что делает работу с данными удобной и гибкой. Структуры — это основа работы с данными в Go, и они позволяют создавать сложные типы с упрощённым синтаксисом. Методы, которые можно добавлять к структурам, расширяют их функциональность, а **реверсивные методы** (value и pointer receivers) дают вам контроль над изменением данных внутри методов.

#### Создание структуры

Пример структуры для описания человека:

```go
type Person struct {
    Name string
    Age  int
}
```

Здесь `Person` — это структура, которая имеет два поля: `Name` типа `string` и `Age` типа `int`.

#### Использование структуры

После объявления структуры, можно создавать объекты этого типа:

```go
func main() {
    person := Person{Name: "John", Age: 30}
    fmt.Println(person.Name)  // Выведет "John"
    fmt.Println(person.Age)   // Выведет 30
}
```

Мы можем обращаться к полям структуры и изменять их:

```go
person.Age = 31
fmt.Println(person.Age)  // Выведет 31
```

#### Анонимные поля

Go позволяет использовать анонимные поля в структурах, что позволяет включать поля других структур без явного имени:

```go
type Employee struct {
    Person
    Position string
}
```

В этом примере `Employee` включает в себя структуру `Person`, а также имеет дополнительное поле `Position`. Теперь к полям структуры `Person` можно обращаться напрямую через объект `Employee`:

```go
func main() {
    employee := Employee{Person: Person{Name: "John", Age: 30}, Position: "Developer"}
    fmt.Println(employee.Name)   // Выведет "John"
    fmt.Println(employee.Age)    // Выведет 30
    fmt.Println(employee.Position) // Выведет "Developer"
}
```

### Методы для структур

Go поддерживает добавление методов к структурам, что позволяет связывать действия с данными в объекте.

Пример метода для структуры `Person`:

```go
func (p Person) Greet() string {
    return "Hello, my name is " + p.Name
}
```

Этот метод `Greet` можно вызывать для любого объекта типа `Person`:

```go
func main() {
    person := Person{Name: "Alice", Age: 25}
    fmt.Println(person.Greet())  // Выведет "Hello, my name is Alice"
}
```

### Реверсивные методы: Указатели и Значения

Методы могут принимать структуры либо по **значению** (value), либо по **указателю** (pointer), и это влияет на то, как метод работает с данными структуры.

#### Методы с получателем-значением

Когда метод использует **значение** структуры как получатель, он работает с копией объекта, и любые изменения не затронут оригинал:

```go
func (p Person) Birthday() {
    p.Age++
}

func main() {
    person := Person{Name: "Bob", Age: 40}
    person.Birthday()
    fmt.Println(person.Age)  // Выведет 40, так как изменения произошли в копии
}
```

#### Методы с указателем

Если метод использует **указатель** как получатель, он работает напрямую с оригиналом структуры, что позволяет изменять её поля:

```go
func (p *Person) Birthday() {
    p.Age++
}

func main() {
    person := Person{Name: "Bob", Age: 40}
    person.Birthday()
    fmt.Println(person.Age)  // Теперь выведет 41, т.к. изменения происходят в оригинале
}
```

Использование указателей в методах предпочтительно, когда нужно изменять данные структуры или работать с большими объектами для улучшения производительности.

### Вложенные структуры

Go позволяет использовать структуры внутри других структур. Это полезно, когда нужно моделировать более сложные объекты, состоящие из нескольких уровней данных.

Пример:

```go
type Address struct {
    City  string
    State string
}

type Person struct {
    Name    string
    Age     int
    Address Address
}
```

Теперь структура `Person` содержит внутри себя структуру `Address`, что позволяет создавать объекты с вложенными данными:

```go
func main() {
    person := Person{
        Name: "John",
        Age:  30,
        Address: Address{
            City:  "New York",
            State: "NY",
        },
    }
    fmt.Println(person.Name)      // Выведет "John"
    fmt.Println(person.Address.City) // Выведет "New York"
}
```

### Задания для лучшего понимания структур

1. **Создайте структуру `Car`:**
   - Добавьте поля `Brand`, `Model`, `Year` и `Price`.
   - Реализуйте метод `Details()`, который выводит информацию о машине.

2. **Методы с указателями:**
   - Создайте структуру `Counter` с полем `Value`.
   - Реализуйте метод `Increment` с получателем-указателем, который увеличивает значение счётчика.

3. **Анонимные поля:**
   - Создайте структуру `Manager`, которая включает поля из структуры `Employee` (анонимно) и добавьте дополнительное поле `Department`.

4. **Вложенные структуры:**
   - Создайте структуру `Book`, которая включает поля `Title`, `Author` и вложенную структуру `Publisher`, содержащую `Name` и `Country`.
   - Реализуйте метод `Info()`, который выводит полную информацию о книге и её издателе.

5. **Создание методов:**
   - Реализуйте структуру `Rectangle` с полями `Width` и `Height`.
   - Добавьте метод для расчёта площади (`Area()`) и периметра (`Perimeter()`).
